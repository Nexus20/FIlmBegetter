<div class="wrapper">
    <div class="side-menu-wrapper">
        <app-side-menu style="position:fixed;" [routes]="routes"></app-side-menu>
    </div>
    <section class="content">
        <ng-container *ngIf="user != undefined">

            <div class="container">
                <div class="row mb-5">
                    <h2 class="col-12 mb-3">Your collections</h2>
                    <div class="col-12">
                        <ng-container *ngIf="user.movieCollections.length else noCollectionsTemplate">
                            <div class="collection-cards">
                                <ng-container *ngFor="let collectionCard of movieCollectionCards">
                                    <ng-container *ngIf="collectionCard.info.movies.length else noMoviesCollectionTemplate">
                                        <a class="collection-link" [routerLink]="[collectionCard.info.id]">
                                            <app-card class="mb-3" [movieCardParameters]="collectionCard"></app-card>
                                        </a>
                                    </ng-container>
                                    <ng-template #noMoviesCollectionTemplate>
                                        <app-card class="mb-3" [movieCardParameters]="collectionCard"></app-card>
                                    </ng-template>
                                </ng-container>
                            </div>
                            <!--                            <ul *ngFor="let collection of user.movieCollections">-->
                            <!--                                <li>{{collection.name}}</li>-->
                            <!--                            </ul>-->
                        </ng-container>
                        <ng-template #noCollectionsTemplate>
                            <h4>You have no collections yet =(</h4>
                        </ng-template>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <h3 class="col-12 mb-3">Add new collection</h3>
                        <app-collection-form (getUserProfile)="getUserProfile()"
                                             [authorId]="user.id"></app-collection-form>
                    </div>
                </div>
            </div>
        </ng-container>
    </section>
</div>
